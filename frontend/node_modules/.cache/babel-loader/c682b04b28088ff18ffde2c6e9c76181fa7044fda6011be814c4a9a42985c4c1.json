{"ast":null,"code":"import React,{useState,useEffect}from'react';import{sessions}from'../services/api';import{commonStyles}from'../styles/theme';import Badge from'../components/Badge';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Leaderboard(){const[leaderboard,setLeaderboard]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[timeframe,setTimeframe]=useState('weekly');const fetchLeaderboard=async()=>{try{setLoading(true);setError('');const data=await sessions.getLeaderboard(timeframe);setLeaderboard(data);}catch(err){console.error('Error fetching leaderboard:',err);setError(err.message||'Failed to load leaderboard');}finally{setLoading(false);}};useEffect(()=>{fetchLeaderboard();// Set up auto-refresh every 30 seconds\nconst interval=setInterval(fetchLeaderboard,30000);return()=>clearInterval(interval);},[timeframe]);const getTimeframeLabel=tf=>{switch(tf){case'daily':return'Today';case'weekly':return'This Week';case'monthly':return'This Month';case'all':return'All Time';default:return'Today';}};const getBadgeForRank=index=>{switch(index){case 0:return'GOON_KING';case 1:return'EDGE_EMPEROR';case 2:return'STROKE_SAGE';default:return null;}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-[#121212] text-white p-4 sm:p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:commonStyles.card,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"\".concat(commonStyles.heading.h2),children:\"Leaderboard \\uD83C\\uDFC6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:['daily','weekly','monthly'].map(tf=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTimeframe(tf),className:\"px-4 py-2 rounded-lg transition-all duration-300 \".concat(timeframe===tf?'bg-primary text-white':'bg-gray-800 text-gray-400 hover:bg-gray-700'),children:getTimeframeLabel(tf)},tf))})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-b-2 border-primary\"})}):error?/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-500/20 border border-red-500 text-red-200 p-4 rounded-xl\",children:error}):leaderboard.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-400\",children:\"No data available for this timeframe\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:leaderboard.map((user,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800/50 p-4 rounded-xl border border-gray-700 hover:border-primary/30 transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center font-bold text-lg\",children:index+1}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:user.username}),/*#__PURE__*/_jsx(Badge,{type:getBadgeForRank(index),size:\"md\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold\",children:[user.totalDuration,\" minutes\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[user.sessionCount,\" sessions\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[\"Avg: \",Math.round(user.totalDuration/user.sessionCount),\" min\"]})]})]})},user._id))})]})})});}export default Leaderboard;","map":{"version":3,"names":["React","useState","useEffect","sessions","commonStyles","Badge","jsx","_jsx","jsxs","_jsxs","Leaderboard","leaderboard","setLeaderboard","loading","setLoading","error","setError","timeframe","setTimeframe","fetchLeaderboard","data","getLeaderboard","err","console","message","interval","setInterval","clearInterval","getTimeframeLabel","tf","getBadgeForRank","index","className","children","card","concat","heading","h2","map","onClick","length","user","username","type","size","totalDuration","sessionCount","Math","round","_id"],"sources":["C:/Users/RC_Student_lab/Desktop/goon/frontend/src/pages/Leaderboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { sessions } from '../services/api';\r\nimport { commonStyles } from '../styles/theme';\r\nimport Badge from '../components/Badge';\r\n\r\nfunction Leaderboard() {\r\n  const [leaderboard, setLeaderboard] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [timeframe, setTimeframe] = useState('weekly');\r\n\r\n  const fetchLeaderboard = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      const data = await sessions.getLeaderboard(timeframe);\r\n      setLeaderboard(data);\r\n    } catch (err) {\r\n      console.error('Error fetching leaderboard:', err);\r\n      setError(err.message || 'Failed to load leaderboard');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchLeaderboard();\r\n    // Set up auto-refresh every 30 seconds\r\n    const interval = setInterval(fetchLeaderboard, 30000);\r\n    return () => clearInterval(interval);\r\n  }, [timeframe]);\r\n\r\n  const getTimeframeLabel = (tf) => {\r\n    switch (tf) {\r\n      case 'daily':\r\n        return 'Today';\r\n      case 'weekly':\r\n        return 'This Week';\r\n      case 'monthly':\r\n        return 'This Month';\r\n      case 'all':\r\n        return 'All Time';\r\n      default:\r\n        return 'Today';\r\n    }\r\n  };\r\n\r\n  const getBadgeForRank = (index) => {\r\n    switch (index) {\r\n      case 0:\r\n        return 'GOON_KING';\r\n      case 1:\r\n        return 'EDGE_EMPEROR';\r\n      case 2:\r\n        return 'STROKE_SAGE';\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#121212] text-white p-4 sm:p-8\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <div className={commonStyles.card}>\r\n          <div className=\"flex justify-between items-center mb-8\">\r\n            <h1 className={`${commonStyles.heading.h2}`}>\r\n              Leaderboard üèÜ\r\n            </h1>\r\n            <div className=\"flex space-x-2\">\r\n              {['daily', 'weekly', 'monthly'].map((tf) => (\r\n                <button\r\n                  key={tf}\r\n                  onClick={() => setTimeframe(tf)}\r\n                  className={`px-4 py-2 rounded-lg transition-all duration-300 ${\r\n                    timeframe === tf\r\n                      ? 'bg-primary text-white'\r\n                      : 'bg-gray-800 text-gray-400 hover:bg-gray-700'\r\n                  }`}\r\n                >\r\n                  {getTimeframeLabel(tf)}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {loading ? (\r\n            <div className=\"flex justify-center items-center h-64\">\r\n              <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-primary\"></div>\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"bg-red-500/20 border border-red-500 text-red-200 p-4 rounded-xl\">\r\n              {error}\r\n            </div>\r\n          ) : leaderboard.length === 0 ? (\r\n            <div className=\"text-center py-8 text-gray-400\">\r\n              No data available for this timeframe\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {leaderboard.map((user, index) => (\r\n                <div\r\n                  key={user._id}\r\n                  className=\"bg-gray-800/50 p-4 rounded-xl border border-gray-700 hover:border-primary/30 transition-all duration-300\"\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-4\">\r\n                      <div className=\"w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center font-bold text-lg\">\r\n                        {index + 1}\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <h3 className=\"text-xl font-semibold\">\r\n                          {user.username}\r\n                        </h3>\r\n                        <Badge type={getBadgeForRank(index)} size=\"md\" />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <p className=\"text-lg font-semibold\">\r\n                        {user.totalDuration} minutes\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-400\">\r\n                        {user.sessionCount} sessions\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-400\">\r\n                        Avg: {Math.round(user.totalDuration / user.sessionCount)} min\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Leaderboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}